<html>
<head>
	<meta charset="utf-8">
	<script type="text/javascript" src ="../csvreader.js"></script>
	<script type="text/javascript">
	window.onload = function() {
		var input1 = "0,-489\n1,-485\n2,-483\n3,-482\n4,-463";
		var input2 = "index;signal_value\n0;-489\n1;-485\n2;-483\n3;-482\n4;-463";
		var input3 = "0,-489\n1,-485\nhello,world";
		document.write("<pre>input1 = " + input1 + "</pre>");
		document.write("<pre>input2 = " + input2 + "</pre>");
		document.write("<pre>input3 = " + input3 + "</pre>");

		var reader =  new csvreader.Reader(",","rows");
		var csv = reader.Load(input1,false);
		var test = csv.get(0,1) === "-489";
		console.log(test);
		document.write("<pre>input1 : csv.get(0,1) === \"-489\" " + test + "</pre>");

		reader = new csvreader.Reader(";");
		csv = reader.Load(input2,true);
		test = csv.get(0,1) == -489;
		console.log(test);
		document.write("<pre>input2 : csv.get(0,1) == -489 " + test + "</pre>");

		reader = new csvreader.Reader(",","cols");
		csv = reader.Load(input1,false);
		test = csv.get(0,1) == 1;
		console.log(test);
		document.write("<pre>input1 : csv.get(0,1) == 1 " + test + "</pre>");

		reader = new csvreader.Reader(";","cols");
		csv = reader.Load(input2,true);
		test = csv.get("signal_value",0) == -489;
		console.log(test);
		document.write("<pre>input2 : csv.get(\"signal_value\",0) == -489 " + test + "</pre>");

		test = csv.get("dindex",1) == undefined;
		console.log(test);
		document.write("<pre>input2 : csv.get(\"dindex\",1) == undefined " + test + "</pre>");

		test = csv.get(0,11) == undefined;
		console.log(test);
		document.write("<pre>input2 : csv.get(0,11) == undefined " + test + "</pre>");

		reader = new csvreader.Reader(",","rows").as("int");
		csv = reader.Load(input1,false);
		test = typeof csv.get(0,0) == "number";
		console.log(test);
		document.write("<pre>input1 : typeof csv.get(0,0) == \"number\" " + test + "</pre>");

		csv = reader.Load(input3,false);
		test = typeof csv.get(2,0) == "undefined";
		console.log(test);
		document.write("<pre>input3 : typeof csv.get(2,0) == \"undefined\" " + test + "</pre>");
	};	
	</script>
	<title></title>
</head>
<body>
</body>
</html>
